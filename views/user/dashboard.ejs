<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <title>User Profile</title>
</head>

<body>

  <section style="background-color: rebeccapurple;">
    <div class="container py-5">
      <div class="row">
        <% if(message.length> 0){ %>
          <div class="alert alert-success">
            <%= message %>
          </div>
          <% } %>
            <% if(msg.length> 0){ %>
              <div class="alert alert-danger">
                <%= msg %>
              </div>
              <% } %>
                <div class="col-lg-4">
                  <div class="card mb-4">
                    <div class="card-body text-center">
                      <img src="<%= i.url %>" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;">
                      <h5 class="my-3">
                        <%= n %>
                      </h5>
                      <p class="text-muted mb-1">Streak 11 <i class="fa-solid fa-fire-flame-curved fa-bounce"
                          style="color: red;"></i></p>
                      <p class="text-muted mb-4">Rank: Knight <i class="fa-solid fa-chess-knight fa-beat"
                          style="color: #B197FC;"></i></p>
                      <p class="text-muted mb-4">Chalenges Completed : 24</p>
                      <p class="text-muted mb-4">11th Rank</p>
                      <div class="d-flex justify-content-center mb-2">
                        <button type="button" data-mdb-button-init data-mdb-ripple-init
                          class="btn btn-outline-primary ms-1" data-bs-toggle="modal"
                          data-bs-target="#leaderboardModal">LeaderBoard</button>
                      </div>
                    </div>
                  </div>

                  <div class="card mb-4">
                    <div class="card-body">
                      <h5 class="card-title">Sustainable Development Progress</h5>
                      <canvas id="sustainableDevelopmentChart"></canvas>
                    </div>
                  </div>

                  <div class="card mt-4 mb-4">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">Daily Challenges</h5>
                      <ul class="list-group list-group-flush">
                        <!-- Existing challenges -->
                        <li class="list-group-item d-flex justify-content-between align-items-center"
                          data-bs-toggle="collapse" data-bs-target="#plasticUse" aria-expanded="false"
                          aria-controls="plasticUse">
                          Reduce Plastic Use
                          <span class="dropdown-icon">
                            <i class="bi bi-chevron-down"></i>
                          </span>
                        </li>
                        <div class="collapse" id="plasticUse">
                          <div class="card card-body">
                            Challenge Description: This challenge encourages participants to minimize their use of
                            plastic materials in daily activities and adopt eco-friendly alternatives.
                          </div>
                        </div>
                        <!-- Add two more daily challenges with descriptions -->
                        <li class="list-group-item d-flex justify-content-between align-items-center"
                          data-bs-toggle="collapse" data-bs-target="#energyConservation" aria-expanded="false"
                          aria-controls="energyConservation">
                          Energy Conservation
                          <span class="dropdown-icon">
                            <i class="bi bi-chevron-down"></i>
                          </span>
                        </li>
                        <div class="collapse" id="energyConservation">
                          <div class="card card-body">
                            Challenge Description: Participants aim to reduce energy consumption by adopting
                            energy-efficient practices and using renewable energy sources.
                          </div>
                        </div>
                        <li class="list-group-item d-flex justify-content-between align-items-center"
                          data-bs-toggle="collapse" data-bs-target="#greenCommute" aria-expanded="false"
                          aria-controls="greenCommute">
                          Green Commute
                          <span class="dropdown-icon">
                            <i class="bi bi-chevron-down"></i>
                          </span>
                        </li>
                        <div class="collapse" id="greenCommute">
                          <div class="card card-body">
                            Challenge Description: This challenge promotes eco-friendly transportation options such as
                            cycling, walking, carpooling, and using public transport.
                          </div>
                        </div>
                      </ul>
                    </div>
                  </div>

                  <div class="card mb-4">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">Weekly Challenges</h5>
                      <ul class="list-group list-group-flush">
                        <!-- Existing challenges -->
                        <li class="list-group-item d-flex justify-content-between align-items-center"
                          data-bs-toggle="collapse" data-bs-target="#zeroWaste" aria-expanded="false"
                          aria-controls="zeroWaste">
                          Zero Waste
                          <span class="dropdown-icon">
                            <i class="bi bi-chevron-down"></i>
                          </span>
                        </li>
                        <div class="collapse" id="zeroWaste">
                          <div class="card card-body">
                            Challenge Description: Participants aim to minimize waste generation by practicing
                            recycling, composting, and opting for reusable products.
                          </div>
                        </div>
                        <!-- Add two more weekly challenges with descriptions -->
                        <li class="list-group-item d-flex justify-content-between align-items-center"
                          data-bs-toggle="collapse" data-bs-target="#plantBasedDiet" aria-expanded="false"
                          aria-controls="plantBasedDiet">
                          Plant-Based Diet
                          <span class="dropdown-icon">
                            <i class="bi bi-chevron-down"></i>
                          </span>
                        </li>
                        <div class="collapse" id="plantBasedDiet">
                          <div class="card card-body">
                            Challenge Description: Participants commit to consuming plant-based meals to reduce their
                            environmental impact and promote sustainable food choices.
                          </div>
                        </div>
                        <li class="list-group-item d-flex justify-content-between align-items-center"
                          data-bs-toggle="collapse" data-bs-target="#waterConservation" aria-expanded="false"
                          aria-controls="waterConservation">
                          Water Conservation
                          <span class="dropdown-icon">
                            <i class="bi bi-chevron-down"></i>
                          </span>
                        </li>
                        <div class="collapse" id="waterConservation">
                          <div class="card card-body">
                            Challenge Description: This challenge focuses on reducing water wastage through efficient
                            water use practices, fixing leaks, and using water-saving devices.
                          </div>
                        </div>
                      </ul>
                    </div>
                  </div>

                  <div class="card mb-4 mb-lg-0">
                    <div class="card-body p-0">
                      <ul class="list-group list-group-flush rounded-3">
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                          <i class="fas fa-recycle fa-lg text-success"></i>
                          <p class="mb-0">Eco-Friendly Shopping</p>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                          <i class="fas fa-seedling fa-lg text-success"></i>
                          <p class="mb-0">Green Workspace</p>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                          <i class="fas fa-solar-panel fa-lg text-warning"></i>
                          <p class="mb-0">Challenge 1 on Insta</p>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                          <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                          <p class="mb-0">Challenge 2 on Insta</p>
                        </li>
                      </ul>
                    </div>
                  </div>

                </div>

                <div class="col-lg-8">
                  <div class="card mb-4">
                    <div class="card-body">
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Full Name</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">
                            <%= n %>
                          </p>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Email</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">
                            <%= e %>
                          </p>
                        </div>
                      </div>
                      <hr>
                      <div class="row">
                        <div class="col-sm-3">
                          <p class="mb-0">Address</p>
                        </div>
                        <div class="col-sm-9">
                          <p class="text-muted mb-0">Bhopal</p>
                        </div>
                      </div>
                      <hr>
                      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateProfile">Edit
                        Profile</button>
                      <button class="btn btn-info ms-2" data-bs-toggle="modal" data-bs-target="#changePassword">Change
                        Password</button>
                      <a class="btn btn-danger ms-5" href="/logOut">Logout</a>
                    </div>
                  </div>

                  <div class="card mt-4 mb-4">
                    <div class="card-body">
                      <div class="d-flex justify-content-between align-items-center">
                        <h5 class="card-title mb-0 fw-bold">Badges</h5>
                        <i class="bi bi-caret-down text-primary"></i>
                      </div>
                      <div class="mt-3 d-flex flex-wrap">
                        <div class="me-3 mb-3" style="width: 100px;">
                          <div class="text-center">
                            <img src="https://leetcode.com/static/images/badges/knight.png" alt="Knight Badge" class="img-fluid">
                          </div>
                          <div class="text-center mt-2">Knight</div>
                          <div class="text-center text-muted small">2024-06-13</div>
                        </div>
                        <div class="me-3 mb-3" style="width: 100px;">
                          <div class="text-center">
                            <img src="https://assets.leetcode.com/static_assets/marketing/2024-100-lg.png" alt="100 Days Badge" class="img-fluid">
                          </div>
                          <div class="text-center mt-2">100 Days Badge 2024</div>
                          <div class="text-center text-muted small">2024-04-11</div>
                        </div>
                        <div class="me-3 mb-3" style="width: 100px;">
                          <div class="text-center">
                            <img src="https://assets.leetcode.com/static_assets/marketing/2024-50-lg.png" alt="50 Days Badge" class="img-fluid">
                          </div>
                          <div class="text-center mt-2">50 Days Badge 2024</div>
                          <div class="text-center text-muted small">2024-02-21</div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card mb-4">
                    <div class="card-body">
                      <h5 class="card-title">Titles and Rewards</h5>
                      <ul class="list-group list-group-flush">
                        <li class="list-group-item"><i class="fa-solid fa-award text-primary p-2"></i>Green Champion
                          Badge</li>
                        <li class="list-group-item"><i class="fa-solid fa-trophy text-warning p-2"></i>Climate Warrior
                          Badge</li>
                        <li class="list-group-item"><i class="fa-solid fa-gift text-danger p-2"></i>Eco-Friendly Gift
                          Pack</li>
                        <li class="list-group-item"><i class="fa-solid fa-medal text-success p-2"></i>Green Living
                          Workshop Voucher</li>
                      </ul>
                    </div>
                  </div>

                  <div class="card mb-4">
                    <div class="card-body">
                      <h5 class="card-title">Progress</h5>
                      <canvas id="progressChart"></canvas>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <div class="card mb-4 mb-md-0">
                        <div class="card-body">
                          <p class="mb-4"><span class="text-primary font-italic me-1">Temperature</span> Data Set (°C)
                          </p>
                          <p class="mb-1" style="font-size: .77rem;">Temperature (2019): 25°C</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 70%" aria-valuenow="70"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <p class="mt-4 mb-1" style="font-size: .77rem;">Temperature (2020): 26°C</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 75%" aria-valuenow="75"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <!-- Add more temperature data here -->

                        </div>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="card mb-4 mb-md-0">
                        <div class="card-body">
                          <p class="mb-4"><span class="text-primary font-italic me-1">Humidity</span> Data Set (%)</p>
                          <p class="mb-1" style="font-size: .77rem;">Humidity (2019): 60%</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <p class="mt-4 mb-1" style="font-size: .77rem;">Humidity (2020): 65%</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 65%" aria-valuenow="65"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <!-- Add more humidity data here -->

                        </div>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="card mb-4 mb-md-0">
                        <div class="card-body">
                          <p class="mb-4"><span class="text-primary font-italic me-1">Water Pollution</span> Data Set
                            (PPM)</p>
                          <p class="mb-1" style="font-size: .77rem;">Water Pollution (2019): 50 PPM</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="50"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <p class="mt-4 mb-1" style="font-size: .77rem;">Water Pollution (2020): 45 PPM</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 45%" aria-valuenow="45"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <!-- Add more water pollution data here -->

                        </div>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="card mb-4 mb-md-0">
                        <div class="card-body">
                          <p class="mb-4"><span class="text-primary font-italic me-1">Air Pollution</span> Data Set
                            (µg/m³)</p>
                          <p class="mb-1" style="font-size: .77rem;">Air Pollution (2019): 30 µg/m³</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 30%" aria-valuenow="30"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <p class="mt-4 mb-1" style="font-size: .77rem;">Air Pollution (2020): 28 µg/m³</p>
                          <div class="progress rounded" style="height: 5px;">
                            <div class="progress-bar" role="progressbar" style="width: 28%" aria-valuenow="28"
                              aria-valuemin="0" aria-valuemax="100"></div>
                          </div>

                          <!-- Add more air pollution data here -->

                        </div>
                      </div>
                    </div>
                  </div>


                </div>
      </div>
    </div>
  </section>

  <!-- Modal for leaderboard -->
  <div class="modal fade" id="leaderboardModal" tabindex="-1" aria-labelledby="leaderboardModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="leaderboardModalLabel">Leaderboard</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Rank</th>
                <th scope="col">Name</th>
                <th scope="col">Points</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>Sneha</td>
                <td>1000</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Ayushi</td>
                <td>950</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>Soumya</td>
                <td>900</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!--Update Profile Modal -->
  <div class="modal fade" id="updateProfile" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            Profile Update
          </h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form action="/updateProfile" method="post" enctype="multipart/form-data">
            <div class="mb-3">
              <label for="">Name</label>
              <input type="text" name="name" value="<%= n %>" class="form-control" />
            </div>
            <div class="mb-3">
              <label for="">Email</label>
              <input type="email" name="email" value="<%= e %>" class="form-control" />
            </div>
            <div class="mb-3">
              <label for="">Image</label>
              <input type="file" name="image" class="form-control">
              <img src="<%= i.url %>" alt="profile-image" width="50px">
            </div>
            <button type="submit" class="btn btn-success">Update Profile</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!--Update Profile Modal End-->

  <!--Change Password Modal -->
  <div class="modal fade" id="changePassword" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            Update Password
          </h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form action="/changePassword" method="post">
            <div class="mb-3">
              <label for="">Old Password</label>
              <input type="password" name="op" class="form-control" />
            </div>
            <div class="mb-3">
              <label for="">New Password</label>
              <input type="password" name="np" class="form-control" />
            </div>
            <div class="mb-3">
              <label for="">Confirm Password</label>
              <input type="text" name="cp" class="form-control" />
            </div>
            <button type="submit" class="btn btn-success">Update Password</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!--Change Password Modal End-->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"></script>
  <script src="/js/Chart.js"></script>
</body>

</html>